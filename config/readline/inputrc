# http://www.reddit.com/r/commandline/comments/kbeoe/you_can_make_readline_and_bash_much_more_user/
# https://wiki.archlinux.org/index.php/Readline

$include /etc/inputrc

# Mode Settings

set editing-mode vi
set show-mode-in-prompt on
set vi-ins-mode-string "\001\033[32m\002|INS|\001\033[0m\002 "
set vi-cmd-mode-string "\001\033[41m\033[93m\002<CMD>\001\033[0m\002 "

# Completion Settings

set colored-completion-prefix on
set colored-stats on
set completion-ignore-case on
set completion-map-case on
set completion-prefix-display-length 2
set mark-symlinked-directories on
set show-all-if-ambiguous on
set show-all-if-unmodified on
set skip-completed-text on
set visible-stats on

# Other Settings

set bell-style visible
set blink-matching-paren on
set expand-tilde on
set history-preserve-point on
set input-meta on
set output-meta on

# Macros

# Ctrl + I Show possible completions
"\C-i": menu-complete

# Same as bash 'clear' command
"\C-l": clear-screen

# clear-display is listed in bind -p output, but nothing in manual, beyond
# a listing of functions. This site
# (https://tiswww.case.edu/php/chet/readline/readline.html) says the
# following:
#
# Clear the screen and, if possible, the terminal's scrollback buffer, then
# redraw the current line, leaving the current line at the top of the screen.

# Mimic Zsh run-help
# https://wiki.archlinux.org/title/Bash#Mimic_Zsh_run-help_ability
# See config/shell-startup/general for run-help function
"\C-xh": run-help

$if mode=vi
    set keymap vi-command
    # Bind up and down arrow keys and j/k keys for history search
    "\e[A": history-search-backward
    "\e[B": history-search-forward
    "k": history-search-backward
    "j": history-search-forward

    set keymap vi-insert
    # Bind up and down arrow keys for history search
    "\e[A": history-search-backward
    "\e[B": history-search-forward
$endif

# bind -v Display readline variable names and values in such a way that they
#         can be re-read.
#
# These might be interesting

# set convert-meta off
# set disable-completion off
# set mark-modified-lines off
# set menu-complete-display-prefix off

#"\C-n": dump-macros

# -s     Display readline key sequences bound to macros and the strings they output in such  a  way  that
#        they can be re-read.
# -S     Display readline key sequences bound to macros and the strings they output.
# -q function Query about which keys invoke the named function.
#
# -x keyseq:shell-command
#        Cause  shell-command to be executed whenever keyseq is entered.  When
#        shell-command is executed, the shell sets the READLINE_LINE variable
#        to the contents of the readline line  buffer  and  the READLINE_POINT
#        and  READLINE_MARK  variables to the current location of the
#        insertion point and the saved insertion point (the mark),
#        respectively.  If the executed command changes  the  value of any of
#        READLINE_LINE, READLINE_POINT, or READLINE_MARK, those new values
#        will be reflected in the editing state.
#
# -X     List all key sequences bound to shell commands and the associated
#        commands in a format that  can be reused as input.

# bind -p: Display readline function names and bindings in such a way that
#          they can be re-read.
#
# self-insert lines have been removed
# functions bound in this file have been removed
# default bound functions have been removed
#
# Might be interesting:
#
# "\C-t": transpose-chars (default)
# transpose-words (not bound)
# shell-transpose-words (not bound)
#
# alias-expand-line (not bound)
# tilde-expand (not bound)



# abort (not bound)
# arrow-key-prefix (not bound)
# backward-byte (not bound)
# backward-kill-line (not bound)
# backward-kill-word (not bound)
# beginning-of-history (not bound)
# call-last-kbd-macro (not bound)
# capitalize-word (not bound)
# character-search (not bound)
# character-search-backward (not bound)
# clear-display (not bound)
# clear-screen (not bound)
# complete (not bound)
# complete-command (not bound)
# complete-filename (not bound)
# complete-hostname (not bound)
# complete-into-braces (not bound)
# complete-username (not bound)
# complete-variable (not bound)
# copy-backward-word (not bound)
# copy-forward-word (not bound)
# copy-region-as-kill (not bound)
# dabbrev-expand (not bound)
# delete-char-or-list (not bound)
# delete-horizontal-space (not bound)
# digit-argument (not bound)
# display-shell-version (not bound)
# do-lowercase-version (not bound)
# downcase-word (not bound)
# dump-macros (not bound)
# dump-variables (not bound)
# dynamic-complete-history (not bound)
# edit-and-execute-command (not bound)
# emacs-editing-mode (not bound)
# end-kbd-macro (not bound)
# end-of-history (not bound)
# exchange-point-and-mark (not bound)
# forward-backward-delete-char (not bound)
# forward-byte (not bound)
# glob-complete-word (not bound)
# glob-expand-word (not bound)
# glob-list-expansions (not bound)
# history-and-alias-expand-line (not bound)
# history-expand-line (not bound)
# history-substring-search-backward (not bound)
# history-substring-search-forward (not bound)
# insert-comment (not bound)
# insert-completions (not bound)
# insert-last-argument (not bound)
# kill-line (not bound)
# kill-region (not bound)
# kill-whole-line (not bound)
# magic-space (not bound)
# next-screen-line (not bound)
# non-incremental-forward-search-history (not bound)
# non-incremental-forward-search-history-again (not bound)
# non-incremental-reverse-search-history (not bound)
# non-incremental-reverse-search-history-again (not bound)
# old-menu-complete (not bound)
# operate-and-get-next (not bound)
# possible-command-completions (not bound)
# possible-completions (not bound)
# possible-filename-completions (not bound)
# possible-hostname-completions (not bound)
# possible-username-completions (not bound)
# possible-variable-completions (not bound)
# previous-screen-line (not bound)
# print-last-kbd-macro (not bound)
# re-read-init-file (not bound)
# redraw-current-line (not bound)
# revert-line (not bound)
# set-mark (not bound)
# shell-backward-kill-word (not bound)
# shell-backward-word (not bound)
# shell-expand-line (not bound)
# shell-forward-word (not bound)
# shell-kill-word (not bound)
# shell-transpose-words (not bound)
# skip-csi-sequence (not bound)
# start-kbd-macro (not bound)
# tab-insert (not bound)
# tilde-expand (not bound)
# transpose-words (not bound)
# tty-status (not bound)
# undo (not bound)
# universal-argument (not bound)
# unix-filename-rubout (not bound)
# unix-word-rubout (not bound)
# upcase-word (not bound)
# vi-append-eol (not bound)
# vi-append-mode (not bound)
# vi-arg-digit (not bound)
# vi-bWord (not bound)
# vi-back-to-indent (not bound)
# vi-backward-bigword (not bound)
# vi-backward-word (not bound)
# vi-bword (not bound)
# vi-change-case (not bound)
# vi-change-char (not bound)
# vi-change-to (not bound)
# vi-char-search (not bound)
# vi-column (not bound)
# vi-complete (not bound)
# vi-delete (not bound)
# vi-delete-to (not bound)
# vi-eWord (not bound)
# vi-editing-mode (not bound)
# vi-end-bigword (not bound)
# vi-end-word (not bound)
# vi-eword (not bound)
# vi-fWord (not bound)
# vi-fetch-history (not bound)
# vi-first-print (not bound)
# vi-forward-bigword (not bound)
# vi-forward-word (not bound)
# vi-fword (not bound)
# vi-goto-mark (not bound)
# vi-insert-beg (not bound)
# vi-insertion-mode (not bound)
# vi-match (not bound)
# vi-next-word (not bound)
# vi-overstrike (not bound)
# vi-overstrike-delete (not bound)
# vi-prev-word (not bound)
# vi-put (not bound)
# vi-redo (not bound)
# vi-replace (not bound)
# vi-rubout (not bound)
# vi-search (not bound)
# vi-search-again (not bound)
# vi-set-mark (not bound)
# vi-subst (not bound)
# vi-tilde-expand (not bound)
# vi-yank-arg (not bound)
# vi-yank-pop (not bound)
# vi-yank-to (not bound)
# yank-last-arg (not bound)
# yank-nth-arg (not bound)
# yank-pop (not bound)
