# shellcheck shell=bash
# shellcheck disable=SC2155,SC2086

private_dotfiles="$PROJECTS_DIR/private_dotfiles/api-key"
config_file="$PROJECTS_DIR/dotfiles/api-keys.cfg"

if [[ -r $config_file ]]; then
  readarray -t config_lines < "$config_file"
  for line in "${config_lines[@]}"; do
    IFS='=' read -r varName fileName <<< "$line"
    filePath="$private_dotfiles/$fileName"
    if [[ -r $filePath ]]; then
      export "$varName"="$(<"$filePath")"
    fi
  done
fi

unset private_dotfiles
