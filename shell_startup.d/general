#!/bin/bash

# If bash-completion is installed, CDPATH is searched for completions.
CDPATH=".:$HOME/projects:$HOME/projects/zions"

PROMPT_DIRTRIM=2

export EDITOR=vim
export LANG=en_US.UTF-8
export LANGUAGE=en_US.UTF-8
export LC_ALL=en_US.UTF-8

command -v chromium-browser &> /dev/null && export BROWSER='chromium-browser'

#-----------------------------------------------------------------------------
# http://www.commandlinefu.com/commands/view/7156/monitor-a-file-with-tail-with-timestamps-added
tailfile() { tail -f "$1" | xargs -IX printf "$(date -u)\\t%s\\n" X; }

#-----------------------------------------------------------------------------
# XXX: Move to bin so we can accept multiple filenames
vimwhich() { vim "$(command -v "$1")"; }

# shellcheck disable=SC2164
md() { mkdir -p "$@" && cd "$@" || return; }

#-----------------------------------------------------------------------------
bind "set completion-ignore-case on"
bind "set completion-map-case on"
bind "set mark-symlinked-directories on"
bind "set show-all-if-ambiguous on"
bind Space:magic-space

shopt -s autocd cdspell dirspell globstar cdable_vars checkhash checkwinsize \
         dotglob extglob nocaseglob 2> /dev/null

umask 022

# System
alias c='clear'
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias df='df -h'
alias h='history'
#alias md='mkdir -p'
alias rd=rmdir
alias v='vim'
alias f='find'

#-----------------------------------------------------------------------------
alias dumppath='echo -e ${PATH//:/\\n}'
alias dumpldpath='echo -e ${LD_LIBRARY_PATH//:/\\n}'
alias dotfiles='cd $DOTFILES'

true
