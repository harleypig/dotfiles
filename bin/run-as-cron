#!/bin/sh

# Run the called script as if it were running from cron.  See
# https://serverfault.com/a/541368/91949
#
# Note that the argument needs to be quoted if it requires an argument.  The
# first line of the script loads a POSIX shell as interpreter. The second line
# sources the cron environment file. This is required to load the correct
# shell, which is stored in the environment variable SHELL. Then it loads an
# empty environment (to prevent leaking of environment variables into the new
# shell), launches the same shell which is used for cronjobs and loads the
# cron environment variables. Finally the command is executed.

cron_env=/home/harleypig/.cron-env
. $cron_env
exec /usr/bin/env -i "$SHELL" -c ". $cron_env; $1"
