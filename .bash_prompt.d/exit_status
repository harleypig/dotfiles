
# Change these to whatever you want to be displayed for good and bad exit
# statuses.

good_exit_text=':)'
bad_exit_text=':('

good_exit_color=$(ansi blue_bg yellow_fg)
bad_exit_color=$(ansi red_bg white_fg)

function __exit_status() {

  unset __JOIN

  for s in "$@"; do

    # Wrap the exit symbols in appropriate ansi codes.
    #
    # If a command is still writing to the pipe and a later command exits, the
    # first command will exit with a status of 141.  This causes confusion
    # with commands like echo or head.
    #
    # Doing this *will* cause confusion if something does exit abnormally but
    # doesn't throw an appropriate exit status.

    case "$s" in
      0|141 ) __JOIN[${#__JOIN[*]}]="$good_exit_color$good_exit_text$text_reset" ;;
      *   ) __JOIN[${#__JOIN[*]}]="$bad_exit_color$bad_exit_text$text_reset" ;;
    esac

  done

  separator=' | '
  statuscodes=$(join_array "$separator" "${__JOIN[@]}")
  #statuscodes="${statuscodes//$separator/ $separator }"

  echo $statuscodes

}
